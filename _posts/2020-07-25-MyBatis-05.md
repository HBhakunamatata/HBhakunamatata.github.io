---
layout: post
title: "MyBatis-05 Anotation"
description: 
date: 2020-07-25
categories: Maven MyBatis
---
implementing CRUD using annotation

## CRUD using annotation

- (1) write your SQL in Mapper.interface

```java
public interface UserMapper {

    @Select("select * from user")
    List<User> getUsers();

    @Select("select * from user where id = #{id}")
    User getUserById(@Param("id") int id);

    @Insert("insert into user (id, name, pwd) values" +
            "(#{id},#{name},#{password})")
    int addUser(User user);

    @Update("update user set name=#{name}, pwd=#{password} " +
            "where id=#{id}")
    int updateUser(User user);

    @Delete("delete from user where id=#{id}")
    int deleteUser(@Param("id") int id);

}
```


- (2) test your code

```java
@org.junit.Test
public void getEmpById() {
    SqlSession sqlSession = MyBatisUtils.getSqlSession();

    EmployeeMapper mapper = sqlSession.getMapper(EmployeeMapper.class);
    Employee emp = mapper.getEmpById(10054);
    System.out.println(emp);

    sqlSession.close();
}
```

- (3) __Note :__
    
    - 基本类型的参数或者String类型，需要加上@Param, 引用类型不需要加
    - 我们在SQL中引用的就是我们这里的@Param()中设定的属性名